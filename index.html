<!Doctype html>
<html>
  <head>
    <title>Rollφ</title>
    <meta name="description" content="dφ, the normalest game system">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <style>
      @namespace m url('http://www.w3.org/1998/Math/MathML');

      @font-face{
	  font-family: 'Fira Sans';
	  src: url('fonts/FiraSans-Regular.woff2');
	  font-weight: 400;
	  font-style: normal;
      }
      @font-face{
	  font-family: 'Fira Sans';
	  src: url('fonts/FiraSans-Italic.woff2');
	  font-weight: 400;
	  font-style: italic;
      }
      @font-face{
	  font-family: 'Fira Sans';
	  src: url('fonts/FiraSans-Bold.woff2');
	  font-weight: 800;
	  font-style: normal;
      }
      @font-face{
	  font-family: 'Fira Sans';
	  src: url('fonts/FiraSans-BoldItalic.woff2');
	  font-weight: 800;
	  font-style: italic;
      }
      @font-face {
	  font-family: Fira Math;
	  src: url('fonts/FiraMath-Regular.woff2');
      }
      
      * { margin: 0; padding: 0; }
      a { text-decoration: none; }
      a:hover { text-decoration: underline; }
      table { border-collapse: collapse; }
      button { font-size: 100%; }

      .math, m|math { font-family: Fira Math; }
      
      :root {
	  font-family: Fira Sans;
	  font-size: 18px;
	  --density-color: #5f5;
	  --density-shaded: color-mix(in srgb, var(--density-color), #fff 60%);
	  --axis-color: #aaa;
	  --axis-width: 0.5;
	  --chart-font: 18px Fira Sans;
	  --density-stroke-color: #050;
	  --density-stroke-width: 0.5;
	  --density-critical-color: #f005;
	  --cumulative-mask-color: #fffa;
	  --target-line-color: #000d;
      }
      
      body {
	  text-align: justify;
	  max-width: 40em;
	  margin: 0 auto;
	  padding: 10px 4px;
      }
      h1, h2, h3 { margin-bottom: 0.5em; margin-top: 0.7em; }
      li { margin-left: 1em; }
      .nowrap { white-space: nowrap; }
      
      aside, details {
        font-style: italic;
	border: solid thin #ccc;
	padding: 1ex;
	margin: 1ex 0;
      }
      aside em, details em {
	  font-style: normal;
      }
      aside.example > :first-child:before {
	  content: "Example. ";
	  font-weight: bold;
      }
      details:hover {
	border-color: #888;
      }
      
      .caption {
	  display: flex;
	  flex-flow: row wrap;
	  justify-content: space-around;
      }
      .caption > *{
	  margin: 2px;
      }
      .animated {
	  display: inline-block;
	  font-weight: bold;
	  color: white;
	  background-color: #3584e4;
	  padding: 2px;
      }
      .centering {
	  text-align: center;
	  margin: auto;
      }

      .checkbutton input {
	  display: none;
      }
      .checkbutton input + * {
	  border: solid thin #aaa;
	  border-radius: 2px;
	  padding: 0.5ex 1ex;
	  cursor: pointer;
	  user-select: none;
	  color: #aaa;
      }
      .checkbutton input:checked + * {
	  color: black;
	  border-color: black;
	  background-color: #eee;
      }
      .checklabel {
	  cursor: pointer;
	  text-decoration: underline;
      }
      
      figure, binom-viz.figure, norm-viz.figure, math[display="block"] {
	  margin: 1ex auto;
	  width: 500px;
	  max-width: 100%;
      }
      binom-viz, norm-viz {
	  display: block;
      }
    </style>
    <script src="rollφ.js"></script>
    <script src="binomial.js"></script>
    <script>
      const $ = document.querySelector.bind(document);
      const $$ = document.querySelectorAll.bind(document);
      const copy = (x) => navigator.clipboard.writeText(x);
    </script>
  </head>
  <body>
    <h1>dφ: <small>the normalest game system</small></h1>

    <section>
      <p>dφ (pronounced <code>/dɪˈfaɪ/</code>, like <em>defy</em>) is a
	TTRPG game system based on a new kind of die: the <em>normal
	  die</em> or dφ.</p>
      
      <p>Usual dice follow, ideally, a <em>uniform distribution</em>,
	i.e., every face has the same probability of coming out. Normal
	dice follow, well,
	a <a href="https://en.wikipedia.org/wiki/Normal_distribution"
	     target="_blank"><em>normal distribution</em></a>, a
	mathematically defined distribution that can output any number
	between negative infinity and positive infinity, including
	non-integers such
	as <span id="random">3.141592653589793</span>&hellip; The normal
	distribution is THE most commonly occuring probability
	distribution in nature and appropriately describes complex
	phenomena that depend on the sum of many small unpredictable
	contributions&hellip; like hitting a heavily armored goblin with
	a magic sword while surrounded by a pack of wolves! Here are
	some advantages of the dφ over classical dice based systems:</p>

      <ul>
	<li><strong>Fine tuning.</strong> Classical systems mostly
	  behave ok in the most common and tested situations, however we
	  all have stories on how nonsensical they can become in some
	  not so rare cases. The truth is that a single die, be it the
	  d20, the d100, or something else, cannot adequately express
	  the complexity of all the situations that arise in role
	  playing. The dφ, instead, is controlled by two
	  parameters, <em>might</em> and <em>swing</em>, that can be
	  fine-tuned to achieve any desired level of realism&hellip; or
	  epicism!</li>
	<li><strong>Mathematically sound, yet simple.</strong> Would you
	  rather take a bonus die or a +3 modifier? Confused by the
	  various factors that influence a roll? dφ was designed by
	  scientists with the goal of being transparent for gms and
	  players and having no pathological cases. It may take a few
	  sessions learning and getting used to it, but soon you will
	  find it much more intuitive than old systems!</li>
	<li><strong>Flexible and universal.</strong> dφ is just a
	  die. You can build many different game systems around it,
	  tuning them to your playing style and your campaign. With just
	  a few adjustments of the parameters, you can also plug it
	  inside popular game systems (D&amp;D, Pathfinder, White Wolf,
	  Chaosium, &hellip) seamlessly replacing their game mechanics.
	  Unlike classical dice based systems, dφ doesn't enforce a
	  style on the game play: epic games stay heroic, survival games
	  remain deadly, you are in control!</li>
	<li><strong>Finer grained.</strong> Ever got frustrated that
	  your attack bonus hasn't budged for the past four levels? Dice
	  based systems are forced to use integer modifiers, like the
	  proficiency bonus in D&amp;D 5e which increases by 1 every 4
	  levels. You could use a d100 for finer grained progression,
	  but even then there are limits. And how would you like a
	  rapier that uses 70% of your Dexterity modifier and 30% of
	  your Strength modifier? Not being limited to integers, dφ can
	  accommodate for any fractional modifier, making every level
	  count!</li>
	<li><strong>One die to rule them all.</strong> Ok, bad argument,
	  we all love dice. And yet! With dφ you will only ever need a
	  single die which adapts to every situation. You may loose on
	  the fetish, but your game system will gain in simplicity.</li>
	<li><strong>Fun!</strong> Yes, a die can be fun! As you read on
	  you will find the concept of <em>might</em> quite familiar,
	  it's indeed nearly the same as a modifier in the d20
	  system. <em>Swing</em>, however, is a whole new story that
	  will add spice to your RPG sessions. Try it if you don't
	  believe it!</li>
      </ul>

      <p>Ok, where's the catch? Well, despite being the most common
	probability distribution in nature, the normal distribution is
	actually difficult to emulate with a simple device like a die.
	And even if you had a marvelous analog device that generates
	perfect normal samples, you'd still have to do some rather
	complicated computations to get the final result in dφ. For this
	reason, dφ can only be used with the assistance of a digital
	device. This can be an app on your phone, or a plugin in your
	favorite VTT.</p>

      <p>This website provides you with the tools to use dφ in your
	gaming sessions.</p>
    </section>

    <section id="what-is-normal">
      <h2>What is a normal die?</h2>

      <p>When rolling a fair die we expect each face to come up with the
	same probability. So, for example, if we repeatedly roll a d6,
	the face 6 will come up 1 out of 6 times, i.e. with probability
	1/6. The function that associates to each outcome its
	probability is called the <em>probability distribution</em> of
	the die, so the probability distribution of the d6 is the
	function:</p>

      <figure class="math"
	      style="display: grid; grid-template-columns: 1fr 1fr 1fr; text-align: center">
	<span>1 ↦ 1/6</span>
	<span>2 ↦ 1/6</span>
	<span>3 ↦ 1/6</span>
	<span>4 ↦ 1/6</span>
	<span>5 ↦ 1/6</span>
	<span>6 ↦ 1/6</span>
      </figure>
      
      <p>Similarly, the probability distribution of a fair die with n
	faces is the function that associates
	<math><mrow><mn>1</mn><mi>/</mi><mi>n</mi></mrow></math> to each
	outcome.  This is called the <em>uniform distribution</em>
	on <math><mi>n</mi></math> elements. A good way to graphically
	represent a probability distribution is to draw a chart where
	the outcomes are lined on the <math><mi>x</mi></math>-axis and
	their probabilities are represented by bars of proportional
	area: the higher the bar, the more likely the event. For
	example, here's the chart for the uniform distribution on 6
	elements.</p>

      <binom-viz class="figure" die="6" n="1"></binom-viz>
      
      <p>Here's a less boring chart showing the probability distribution
	of rolling 2d6 (hover the mouse on the bars to read the
	probabilities).</p>

      <figure>
	<binom-viz id="binom-many" die="6" n="2" precompute="40"></binom-viz>
	<div class="caption">
	  <span>
	    <input type="range" min="1" value="2" max="40" step="1"
		   oninput="$('#binom-many-c').textContent = $('#binom-many').n = this.value"/>
	    <span class="animated centering" style="width: 2.5em;">
	      <span id="binom-many-c">2</span>d6
	    </span>
	  </span>
	  <label class="checkbutton">
	    <input type="checkbox" id="binom-cumulative"
		   onchange="$('#binom-many').cumulative = this.checked;">
	    <span>Cumulative</span>
	  </label>
	</div>
      </figure>
      
      <p>Comparing the bars, we see that rolling a 7 is six times more
	likely than rolling a 2. Shocking, I know. The more dice we add,
	the more the distribution concentrates in the middle. Move the
	slider above to see what happens when you roll more dice.</p>

      <p>When you roll an ability check, though, you don't really care
	about the exact number you roll. You just want to know whether
	you exceed a certain target. For example, if you're rolling a
	d20 against a difficulty class of 13, you care about the
	probability of getting 13 or more. In this case, we want to look
	at the sum of the probabilities of getting 13, 14, &hellip;,
	20. Click on the <label class="checklabel"
				for="binom-cumulative">"Cumulative"</label> button and hover the
	mouse again to show the <em>cumulative probabilities</em>,
	i.e. the probability of getting <math><mi>n</mi></math> or
	more. In either case, there is an easy visual interpretation of
	these probabilities: it is the ratio between the area colored in
	bright green and the whole area (both in bright and in pale
	green).</p>

      <p>As you increased the number of dice, you noticed that the
	probability of every single outcome gets increasingly smaller,
	the bars getting increasingly thinner (hover the mouse again if
	you're not convinced). Now imagine rolling billions of dice. The
	bars get so thin as to nearly disappear, every single one of the
	billion outcomes becoming so unlikely that observing it becomes
	hopeless. However the cumulative probabilities still go from 0%
	to 100% and we can put a number on the probability of getting an
	outcome greater than, say, 1,000,000,001.</p>

      <p>Now imagine rolling infinitely many dice! The probability of
	observing any single outcome becomes exactly
	0. Nil. Nothing. But the probability of getting an outcome
	<math><mrow><mo>≥</mo></mrow><mrow><mi>n</mi></mrow></math>
	corresponds to the ratio between the area of the chart to the
	right of <math><mi>n</mi></math> and the area of the whole
	chart. And this quantity is measurable! This is what
	a <em>continuous probability distribution</em> is: a
	mathematical function describing the probability of getting,
	among infinitely many outcomes, one that is greater
	than <math><mi>n</mi></math>.  The <em>standard normal
	  distribution</em> is one such distribution.  Its probability
	chart is shown below. Hover the mouse to observe the cumulative
	probabilities (click and drag works too).</p>

      <norm-viz class="figure" mouse-events></norm-viz>

      <p>The normal distribution is also called <em>gaussian
	  distribution</em> in honor of German
	mathematician
	<a href="https://en.wikipedia.org/wiki/Carl_Friedrich_Gauss"
	   target="_blank">Carl Friedrich Gauß</a>. Its probability
	function (the curve that bounds the green area) is defined
	mathematically as</p>

      <math display="block">
	<mrow>
	  <mi>φ</mi>
	  <mo form="prefix" stretchy="false">(</mo>
	  <mi>x</mi>
	  <mo form="postfix" stretchy="false">)</mo>
	  <mo>=</mo>
	  <mfrac>
	    <msup>
              <mi>e</mi>
              <mrow>
		<mo form="prefix" stretchy="false" lspace="0em" rspace="0em">−</mo>
		<msup>
		  <mi>x</mi>
		  <mn>2</mn>
		</msup>
		<mi>/</mi>
		<mn>2</mn>
              </mrow>
	    </msup>
	    <msqrt>
              <mrow>
		<mn>2</mn>
		<mi>π</mi>
              </mrow>
	    </msqrt>
	  </mfrac>
	  <mi>.</mi>
	</mrow>
      </math>

      <p>Don't worry, you don't have to remember this! It is just to
	show where the name dφ comes from: φ is a letter commonly used
	to denote the probability function of the normal
	distribution.</p>

      <p>If the shape looks familiar, it's because it is
	the <em>limit</em> distribution of
	rolling <math><mi>n</mi></math> dice (and dividing the result
	by <math><msqrt><mi>n</mi></msqrt></math>)
	as <math><mi>n</mi></math> goes to infinity. It is often
	observed in nature because the sum of many small random
	independent contributions also tends to a normal
	distribution. This is why it is perfect for modeling&hellip; the
	probability of hitting a heavily armored orc with a sword imbued
	of draconic magic!</p>

      <p>Let's review some important properties of the normal
	distribution. First, it's pretty obvious that the curve is
	symmetric with respect to the <math><mi>y</mi></math>-axis, thus
	the results will come <strong>negative 50% of the time and
	  positive the other 50%</strong>. There is no lower or upper
	limit on the distribution:
	<strong>any outcome between minus infinity and plus infinity is
	  possible</strong>; however the probability of observing a
	result far away from 0 decreases exponentially fast. Indeed,
	roughly 68.3% of the outcomes fall between -1 and 1, and
	roughly 99.7% fall between -3 and 3. The chances of falling
	outside the interval from -4 to 4 are smaller than 1 in
	10,000: you may safely assume you'll not roll such a result in
	a game session, but if you play enough you eventually will!
	Play with this slider in the chart below to see the
	probabilities of falling within various intervals.</p>

      <figure>
	<norm-viz id="norm-interval" left="-1" right="1"></norm-viz>
	<div class="centering">
	  <input type="range" min="0"  value="1" max="3" step="0.1"
		 oninput="$('#norm-interval').left = -($('#norm-interval').right = this.value)">
	</div>
      </figure>

      <p>A dφ is a "die" that rolls numbers according to the normal
	distribution. You can try rolling one by clicking on this
	button <button onclick="$('#dφ-roll').textContent =
		       Normal.sample() + '…'">roll dφ</button>
	Result: <span id="dφ-roll"></span></p>

      <p>The sequence of digits goes on literally forever, but we need
	to stop it at some point if we want to read and use the
	result. The 16 or so decimal digits output by our dφ roller are
	more than enough for all practical purposes.</p>

      <p>Like with standard dice, we may take the result of a dφ and add
	a modifier. So rolling a dφ + 4 means rolling a dφ and adding 4.
	But we will also do something a bit more unusual: multiply the
	results!  When we write <span class="nowrap">3dφ + 4</span> we
	mean rolling a dφ, multiplying the result by 3 and then adding
	4.  In dφ parlance,
	<math><mrow><mi>σ</mi><mo>=</mo><mn>3</mn></mrow></math> is called the 
	<strong>swing</strong> of the roll, and
	<math><mrow><mi>μ</mi><mo>=</mo><mn>4</mn></mrow></math> is
	its <strong>might</strong>.  Both σ and μ can be non-integers.</p>

      <p>The probability distribution of rolling 
	<span class="nowrap">σdφ + μ</span> is called
	the <em>generalized normal distribution</em> of parameters 
	<math><mrow><mo form="prefix"
			stretchy="false">(</mo><mn>σ,μ</mn><mo form="postfix"
							       stretchy="false">)</mo></mrow></math>.  Varying σ and μ does not
	really change the shape of the probability curve, it only
	squishes, stretches and shifts it along the axes. In our
	visualizations, instead of squishing/stretching/shifting the
	curve we prefer to stretch/squish/shift the axes. Play around
	with the distribution of <span class="nowrap">σdφ + μ</span> in
	the chart below: modify σ and μ, roll the die and see how the
	distribution of results change.</p>

      <figure>
	<norm-viz id="gen-norm" mouse-events></norm-viz>
	<div class="caption">
	  <span>
	    <input type="range" min="-1" value="0" max="1" step="0.02"
		   oninput="$('#σ').textContent = ($('#gen-norm').σ = 9**this.value).toFixed(2)">
	    <math class="animated"><mrow><mi>σ</mi><mo>=</mo><mn id="σ">1.00</mn></mrow></math>
	  </span>
	  <span>
	    <input type="range" min="-5" value="0" max="5" step=".1"
		   oninput="$('#μ').textContent = ($('#gen-norm').μ = 1*this.value).toFixed(2)">
	    <math class="animated"><mrow><mi>μ</mi><mo>=</mo><mn id="μ">0.00</mn></mrow></math>
	  </span>
	  <span>
	    <button onclick="$('#gen-norm-roll').textContent =
		    $('#gen-norm').roll() + '…'">Roll</button>
	    <span id="gen-norm-roll" style="display: inline-block;width: 20ex;"></span>
	  </span>
	</div>
      </figure>
      
      <p>Mind that when we write 3dφ we really mean "roll a dφ and
	multiply the result by 3", not "roll three dφ and add the
	results".  Indeed, one of the fundamental concepts of dφ is that
	you never need to roll more than one die.  This is because,
	unlike ordinary dice, the sum of two normal dice is again a
	normal die (with different parameters).  The mathematical
	formula that translates the sum of two normal dice to a single
	one is:</p>

      <math display="block">
	<mrow>
	  <mrow>
	    <mo form="prefix" fence="true">(</mo>
	    <msub>
	      <mi>σ</mi>
	      <mn>1</mn>
	    </msub>
	    <mi mathvariant="normal">dφ</mi>
	    <mo>+</mo>
	    <msub>
	      <mi>μ</mi>
	      <mn>1</mn>
	    </msub>
	    <mo form="postfix" fence="true">)</mo>
	  </mrow>
	  <mo>+</mo>
	  <mrow>
	    <mo form="prefix" fence="true">(</mo>
	    <msub>
	      <mi>σ</mi>
	      <mn>2</mn>
	    </msub>
	    <mi mathvariant="normal">dφ</mi>
	    <mo>+</mo>
	    <msub>
	      <mi>μ</mi>
	      <mn>2</mn>
	    </msub>
	    <mo form="postfix" fence="true">)</mo>
	  </mrow>
	  <mo>=</mo>
	</mrow>
	<mrow>
	  <mrow>
	    <mo fence="true" form="prefix">(</mo>
	    <msqrt>
              <msubsup>
		<mi>σ</mi>
		<mn>1</mn>
		<mn>2</mn>
              </msubsup>
              <mo>+</mo>
              <msubsup>
		<mi>σ</mi>
		<mn>2</mn>
		<mn>2</mn>
              </msubsup>
	    </msqrt>
	    <mo fence="true" form="postfix">)</mo>
	  </mrow>
	  <mrow>
	    <mi mathvariant="normal">dφ</mi>
	    <mo>+</mo>
	    <mo form="prefix" fence="true">(</mo>
	    <msub>
	      <mi>μ</mi>
	      <mn>1</mn>
	    </msub>
	    <mo>+</mo>
	    <msub>
	      <mi>μ</mi>
	      <mn>2</mn>
	    </msub>
	    <mo form="postfix" fence="true">)</mo>
	  </mrow>
	</mrow>
      </math>

      <p>Don't worry. You don't have to memorize this formula. The dφ
	tools will compute it for you. All you need to know is that you
	will never be asked to roll more than one dφ, however in some
	circumstances the gm may decide to have several players who are
	working together towards a goal roll a die each, and then add
	the results.  By applying the formula above, this choice makes
	no difference in terms of probability and lets each player
	participate to the action.</p>

      <p>This is all the theory you need to know about the dφ.  Now you
	can jump into the real deal: applying dφ to combat, skill
	checks, etc.!</p>
    </section>

    <section id="for-players">
      <h2>dφ for players</h2>

      <p>dφ is not a complete game system, but rather a framework to
	create your own.  It can be integrated into new or existing
	game settings and adapts to many different role playing
	styles.  Think the (in)famous d20 system, but more
	radical.</p>

      <p>At the core of dφ is <em>the check</em>: a die roll that
	decides whether or not an action attempted by one or more
	playing characters succeeds. This encompasses several rolls from
	other game systems: attack rolls, saving throws, skill checks,
	opposed rolls, etc. In this guide we will use the name "check"
	for all of them, to stress that they are, ultimately, the one
	and same mechanic, but feel free to call them with more
	descriptive names in your game sessions.</p>

      <p>A check is in general resolved by rolling a
	<span class="nowrap">σdφ + μ</span> and checking whether the
	outcome is positive or negative: positive means success,
	negative means failure. The swing σ and the might μ of a check
	depend on several factors, which we now review in order.</p>

      <h3 id="the-might">The might</h3>

      <p>The might represents your character's aptitude (or
	inaptitude) at the task. It is very similar to a modifier in
	the d20 system: a positive might increases your chances of
	success, a negative one decreases
	them. When <math><mrow><mi>μ</mi><mo>=</mo><mn>0</mn></mrow></math>
	the rool has 50% chances of coming out negative and 50%
	positive: this represents the typical undecided situation, the
	perfect balance between two mighty opponents, the crossroads
	where anything could happen.</p>

      <p>The total might is the difference between your own might and
	your opponents:

	<math display="block">
	  <mrow>
	    <mi>μ</mi>
	    <mo>=</mo>
	    <msub><mi>μ</mi><mi mathvariant="normal">you</mi></msub>
	    <mo>-</mo>
	    <msub><mi>μ</mi><mi mathvariant="normal">opponent</mi></msub>
	    <mo separator="true">.</mo>
	  </mrow>
	</math>

	Both modifers depend on the the action that's being undertaken
	and are computed by combining the character's statistics.</p>

      <aside class="example">
	<p>
	  Yaba the tribesman attacks a royal guard with his
	  club. Yaba's might is given by his strength plus half his
	  character level, that is
	  <math><mrow><mn>3</mn><mo>+</mo></mrow><mrow><mn>3</mn><mi>/</mi><mn>2</mn><mo>=</mo></mrow><mrow><mn>4.5</mn></mrow></math>. The
	  guard's might is given by his armor's modifier plus half his
	  agility, that is
	  <math><mrow><mn>3</mn><mo>+</mo></mrow><mrow><mn>2</mn><mi>/</mi><mn>2</mn><mo>=</mo></mrow><mrow><mn>4</mn></mrow></math>.
	  The total might of the roll is thus 
	  <math><mrow><mn>4.5</mn><mo>-</mo></mrow><mrow><mn>4</mn><mo>=</mo></mrow><mrow><mn>0.5</mn></mrow></math>.</p>
      </aside>
      
      <aside class="example">
	<p>
	  Yuvash the gnome is following a track in the forest when he
	  steps into a trap. To avoid being trapped, he makes a check
	  based on his agility plus half his wits, that
	  is <math><mrow><mn>2</mn><mo>+</mo></mrow><mrow><mn>4</mn><mi>/</mi><mn>2</mn><mo>=</mo></mrow><mrow><mn>4</mn></mrow></math>.
	  The trap has a might of 6, so the total might of the roll is
	  <math><mrow><mn>4</mn><mo>-</mo></mrow><mrow><mn>6</mn><mo>=</mo></mrow><mrow><mo>-</mo><mn>2</mn></mrow></math>.
	</p>
      </aside>
      
      <p>In many situations, gms prefer to keep the opponent's might
	secret to spice up the game. In this case you will roll a
	<span class="nowrap">σdφ + μ<sub>you</sub></span> and succeed
	if your result is greater than μ<sub>opponent</sub>, which
	your gm will tell you. Chances are that after a couple of
	rolls you will have a good idea of your opponent's might.</p>

      <h3 id="the-swing">The swing</h3>
      
      <p>The swing σ controls the flow of the game by making it more
	or less predictable. A larger swing makes rolling larger
	numbers more likely, and thus diminishes the impact of the
	might.  A smaller swing makes the resolution of a check more
	dependent on the might and less on randomness. In the
	extremes, a zero swing makes checks a simple matter of
	comparing mights, whereas an infinitely large swing makes
	every check a coin toss.</p>

      <p>The swing is the product of two components: the base swing Σ
	and the swing modifier τ, thus</p>
	
      <math display="block">
	<mrow>
	  <mi>σ</mi>
	  <mo>=</mo>
	  <mi>Σ</mi>
	  <mi>τ</mi>
	  <mo separator="true">.</mo>
	</mrow>
      </math>

      <p>The <strong>base swing</strong> is a global parameter of the
	game.  It is fixed by the system or by the gm at the start of
	the campaign and never changes.  Its role is simply to set a
	balance between the the typical statistics of characters and
	the randomness of the dφ.  Smaller values make the game more
	deterministic, larger values make it more unpredictable.</p>

      <aside class="example">
	<p>Continuing Yuvash' example, the gm has set the base swing
	  to <span class="nowrap">Σ = 7</span>.  The roll's might was
	  determined to be <math><mo>-</mo><mn>2</mn></math>, so
	  Yuvash needs to roll 7dφ - 2 and hope to get a positive
	  number.  Looking at the chart below, we say Yuvash has
	  nearly 39% chances of escaping the trap. Play with the
	  slider to see how different base swings would change Yuvash'
	  chances.
	</p>

	<figure>
	  <norm-viz id="swing-yuvash" σ="7" μ="-2" left="0"></norm-viz>
	  <div class="caption">
	    <span>
	      <input type="range" min="4" value="7" max="10" step="0.1"
		     oninput="$('#σ-yuvash').textContent = ($('#swing-yuvash').σ = this.value**1).toFixed(1)">
	      <math class="animated"><mrow><mi>σ</mi><mo>=</mo><mn id="σ-yuvash">7.0</mn></mrow></math>
	      <math class="animated"><mrow><mi>μ</mi><mo>=</mo><mn>-2</mn></mrow></math>
	    </span>
	    <span>
	      <button onclick="$('#swing-yuvash-roll').textContent =
		      $('#swing-yuvash').roll() + '…'">Roll</button>
	      <span id="swing-yuvash-roll" style="display: inline-block;width: 20ex;"></span>
	    </span>
	  </div>
	</figure>
      </aside>

      <p>The value of the base swing must be commensurate with the
	typical range of might modifiers, which themselves depend on
	the character's statistics.  When adapting a game based on the
	d20 to dφ, values of Σ between 6 and 8 give results close to
	the original.  For a game based on the d100, values of Σ
	between 30 and 40 would be typical.</p>

      <p>The <strong>swing modifier(s)</strong> increase or decrease
	the base swing by a multiplicative factor. If the base swing
	is 7 and the swing modier is 2, the total swing will be 14.
	Swing modifiers typically do not come from the statistics of
	the individual characters, but rather from the situation. For
	example, if the characters are fighting in the middle of an
	earthquake, the gm may decide that all combat actions become
	more unpredictable because of the unstable ground and multiply
	the base swing by ×1.5.  When several swing modifiers apply at
	once, they are all multiplied together.</p>

      <p>It is difficult to do mental calculations with swing
	modifiers: how fast can you multiply 7 × 1.25 × 1.02 × 0.80 in
	your head? Did you even realize that 1.25 and 0.80 cancel each
	other out?  For this reason, dφ uses instead
	the <strong>hop</strong>, a <emph>logarithmic unit</emph>, to
	measure swing modifiers.  The symbol of the hop is ℏ.  Zero
	hops correspond to no modifier
	(i.e. <math><mrow><mi>τ</mi><mo>=</mo><mn>1</mn></mrow></math>),
	a negative number of hops decreases σ
	(i.e. <math><mrow><mi>τ</mi><mo>&lt;</mo><mn>1</mn></mrow></math>),
	a positive number increases it
	(i.e. <math><mrow><mi>τ</mi><mo>&gt;</mo><mn>1</mn></mrow></math>).
	Being a logarithmic unit, hops add instead of multiplying, so
	applying a modifier of -3ℏ followed by one of 3ℏ totals to 0ℏ,
	so no modifier at all.  Play with the chart below to visualize
	the impact of swing modifiers.</p>

      <figure>
	<norm-viz id="norm-hops" σ="8" left="0"></norm-viz>
	<div class="caption">
	  <span>
	    <math class="animated"><mrow><mi>Σ</mi><mo>=</mo><mn>8</mn></mrow></math>
	    <input type="range" min="-40" value="0" max="40" step="1"
		   oninput="$('#norm-hops').σ = 8*Normal.hop**($('#hops').textContent = this.value)">
	    <math class="animated"><mrow><mi mathvariant="normal">hops</mi><mo>=</mo><mn id="hops">0</mn><mi>ℏ</mi></mrow></math>
	    <!--math class="animated"><mrow><mi>σ</mi><mo>=</mo><mn id="hops-σ">1.000</mn><mi>Σ</mi></mrow></math-->
	  </span>
	  <span>
	    <input type="range" min="-10" value="0" max="10" step=".1"
		   oninput="$('#μ-hops').textContent = ($('#norm-hops').μ = 1*this.value).toFixed(1)">
	    <math class="animated"><mrow><mi>μ</mi><mo>=</mo><mn id="μ-hops">0.0</mn></mrow></math>
	  </span>
	  <span>
	    <button onclick="$('#norm-hops-roll').textContent =
		    $('#norm-hops').roll() + '…'">Roll</button>
	    <span id="norm-hops-roll" style="display: inline-block;width: 20ex;"></span>
	  </span>
	</div>
      </figure>

      <p>It is not important to know the exact value of one hop, the
	visual tools in dφ will help you translate hops to numbers.
	It's probably good to remember that 20ℏ correspond to to
	multiplying by 2. Careful, though: 1ℏ does not correspond to
	multiplying by 0.1!  If you want the hard math facts, read the
	box below.</p>

      <details>
	<summary><strong>The hop</strong></summary>
	
	<p>The hop is a logarithmic unit defined so
	  that
	  <math><mrow><mn>10</mn><mi>ℏ</mi><mo>=</mo><msqrt><mn>2</mn></msqrt></mrow></math>.
	  This means that:</p>

	<math display="block">
	  <mtable displaystyle="true" columnalign="right left">
	    <mtr>
	      <mtd class="tml-right" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mn>1</mn>
		  <mi>ℏ</mi>
		</mrow>
	      </mtd>
	      <mtd class="tml-left" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mo>≈</mo>
		  <mn>1.0352649238413775…</mn>
		</mrow>
	      </mtd>
	    </mtr>
	    <mtr>
	      <mtd class="tml-right" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mn>2</mn>
		  <mi>ℏ</mi>
		</mrow>
	      </mtd>
	      <mtd class="tml-left" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mo>=</mo>
		  <mo form="prefix" stretchy="false">(</mo>
		  <mn>1</mn>
		  <mi>ℏ</mi>
		  <msup>
		    <mo form="postfix" stretchy="false">)</mo>
		    <mn>2</mn>
		  </msup>
		  <mo>≈</mo>
		  <mn>1.0717734625362932…</mn>
		</mrow>
	      </mtd>
	    </mtr>
	    <mtr>
	      <mtd class="tml-right" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mn>3</mn>
		  <mi>ℏ</mi>
		</mrow>
	      </mtd>
	      <mtd class="tml-left" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mo>=</mo>
		  <mo form="prefix" stretchy="false">(</mo>
		  <mn>1</mn>
		  <mi>ℏ</mi>
		  <msup>
		    <mo form="postfix" stretchy="false">)</mo>
		    <mn>3</mn>
		  </msup>
		  <mo>≈</mo>
		  <mn>1.1095694720678450…</mn>
		</mrow>
	      </mtd>
	    </mtr>
	    <mtr>
	      <mtd class="tml-right" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow></mrow>
	      </mtd>
	      <mtd class="tml-left" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mi>⋮</mi>
		  <mspace width="0pt" height="14.944pt"></mspace>
		</mrow>
	      </mtd>
	    </mtr>
	    <mtr>
	      <mtd class="tml-right" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mn>10</mn>
		  <mi>ℏ</mi>
		</mrow>
	      </mtd>
	      <mtd class="tml-left" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mo>=</mo>
		  <mo form="prefix" stretchy="false">(</mo>
		  <mn>1</mn>
		  <mi>ℏ</mi>
		  <msup>
		    <mo form="postfix" stretchy="false">)</mo>
		    <mn>10</mn>
		  </msup>
		  <mo>=</mo>
		  <msqrt>
		    <mn>2</mn>
		  </msqrt>
		  <mo>≈</mo>
		  <mn>1.4142135623730950…</mn>
		</mrow>
	      </mtd>
	    </mtr>
	    <mtr>
	      <mtd class="tml-right" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow></mrow>
	      </mtd>
	      <mtd class="tml-left" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mi>⋮</mi>
		  <mspace width="0pt" height="14.944pt"></mspace>
		</mrow>
	      </mtd>
	    </mtr>
	    <mtr>
	      <mtd class="tml-right" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mn>20</mn>
		  <mi>ℏ</mi>
		</mrow>
	      </mtd>
	      <mtd class="tml-left" style="padding:0.7ex 0em 0.7ex 0em;">
		<mrow>
		  <mo>=</mo>
		  <mo form="prefix" stretchy="false">(</mo>
		  <mn>1</mn>
		  <mi>ℏ</mi>
		  <msup>
		    <mo form="postfix" stretchy="false">)</mo>
		    <mn>20</mn>
		  </msup>
		  <mo>=</mo>
		  <mn>2</mn>
		</mrow>
	      </mtd>
	    </mtr>
	  </mtable>
	</math>

	<p>The reason for this choice is that
	  <math><msqrt><mn>2</mn></msqrt></math> is an important
	  constant in dφ, and that a smaller subdivision was needed
	  for finer grained control, so we took the tenth root of it.</p>
      </details>

      <aside class="example">
	<p>The company of the gilded spur is fighting a dragon.
	  Attacking with the Dragon slayer, her magical sword,
	  Xihaia's benefits of a <strong>might</strong> equal to her
	  strength plus half her agility plus half her level plus 2,
	  for a total of <span class="nowrap">μ = 12</span>.  The
	  dragon's scales are incredibly hard, though, and afford it
	  a <strong>might</strong> of 25.  The <strong>base
	  swing</strong> of the campaign is set
	  to <span class="nowrap">Σ = 8</span>, so Xihaia would have
	  to roll a <span class="nowrap">8dφ - 13</span> to hit the
	  dragon&hellip; her chances of success are a mere 5%.</p>

	<p>Luckily, Shintaku the sorceress launches the
	  spell <em>chaos</em>: by twisting the fabric of reality
	  itself, she bends the law of physics in an area surrounding
	  the dragon, making every event more unpredictable. In game
	  terms, for the duration of the spell every roll receives
	  a <strong>swing modifier</strong> of 16ℏ (twice Shintaku's
	  level).</p>

	<p>Thanks to Shintaku's spell, Xihaia's roll becomes (roughly)
	  <span class="nowrap">13.9dφ - 13</span>, which has 17.5%
	  chances of coming out positive.  She rolls and obtains a
	  3.67&hellip;, a success. The Dragon slayer lodges itself
	  between the dragon's scales and inflicts a deep wound.  The
	  dragon is very angry, now!</p>
      </aside>

      <p>Now that you know all the basics of the dφ, we can review the
	most important rules that affect the might and the swing.  A
	much more detailed list of rules will be given in
	the <a href="#for-gms">gm's guide</a>.  Keep in mind that most
	rules in dφ are optional, your gm will tell you which ones to
	use.</p>
    </section>

    <section id="for-gms">
      <h2>dφ for gms and game designers</h2>
    </section>

    <section id="for-scientists">
      <h2>dφ for scientists</h2>
    </section>

    <section id="phaq">
      <h2>φAQ</h2>

      <h3 id="i-want-dice">I want to roll dice! Is there a way to
	simulate dφ with normal dice?</h3>

      <h3 id="i-want-a-real-dφ">Where do I find a true dφ?</h3>

      <h3 id="greek-letters">What's going on with all those Greek letters?</h3>

      <p>The scientific heritage of dφ is apparent in its use of Greek
	letters. φ (<em>phi</em>, pronounced <em>fy</em>
	or <em>fee</em>) is often used to denote the probability
	function of the normal distribution, hence the name dφ to
	suggest a die that rolls according to it.</p>

      <p>σ (<em>sigma</em>) is universally used to denote
	the <em>standard deviation</em> of a probability distribution,
	while μ (<em>mu</em>) is used to denote its <em>mean</em> (i.e.,
	its average or expectation).  When you roll σdφ + μ, you're
	rolling according to a normal distribution of standard deviation
	σ and mean μ, whence the symbols we use for swing and might.</p>

      <p>Σ is simply the capital version of σ.</p>
      
      <h3 id="varphi-vs-phi">Is it φ or ϕ or ø or &empty; or Φ?</h3>

      <p>φ, obviously.</p>
      
      <p>Codepoint <code>&amp;#x03C6;</code>
	aka <code>&amp;phi;</code>. Some bad fonts render φ as ϕ, but
	that's a grave mistake.</p>

      <p>And definitely not the capital Phi letter Φ or the Scandinavian
	letter ø or the empty set symbol &empty;. </p>
    </section>

    <section id="dnd5e">
      <h2>Using dφ in D&amp;D 5e</h2>
    </section>

    <section id="white-wolf">
      <h2>Using dφ in White Wolf games</h2>
    </section>

    <section id="chaosium">
      <h2>Using dφ in Chaosium games</h2>
    </section>
  </body>
</html>
